(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8097,e=>{"use strict";var t=e.i(12013),r=e.i(69589),a=e.i(46782);let s=r.forwardRef(({className:e,type:r,...s},i)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},61144,e=>{"use strict";var t=e.i(12013),r=e.i(69589);e.i(10725);var a=e.i(85291),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,a.createSlot)(`Primitive.${s}`),n=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?i:s,{...n,ref:r})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{}),i=r.forwardRef((e,r)=>(0,t.jsx)(s.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=e.i(51004),l=e.i(46782);let d=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(i,{ref:a,className:(0,l.cn)(d(),e),...r}));o.displayName=i.displayName,e.s(["Label",()=>o],61144)},99664,e=>{"use strict";var t=e.i(12013),r=e.i(69589),a=e.i(46782);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));s.displayName="Card";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h3",{ref:s,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let d=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},86099,e=>{"use strict";var t=e.i(12013),r=e.i(69589),a=e.i(50298),s=e.i(5373),i=e.i(56815),n=e.i(8097),l=e.i(61144),d=e.i(99664);function o(){let e=(0,a.useRouter)(),o=(0,a.useSearchParams)().get("redirect")||"",[c,m]=(0,r.useState)(""),[u,f]=(0,r.useState)(!1);async function p(t){t.preventDefault(),m(""),f(!0);let r=t.currentTarget,a=r.elements.namedItem("email").value,s=r.elements.namedItem("password").value;try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:s})}),r=await t.json();if(!t.ok){m(r.error||"Login failed"),f(!1);return}let i=r.user,n=encodeURIComponent(JSON.stringify({id:i.id,name:i.name,email:i.email,role:i.role}));document.cookie=`user=${n}; path=/; max-age=86400`;let l=o||("landlord"===i.role?"/admin":"/");e.push(l),e.refresh()}catch{m("Something went wrong")}finally{f(!1)}}return(0,t.jsx)("div",{className:"page-content flex min-h-[70vh] items-center justify-center",children:(0,t.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight sm:text-3xl",children:"Welcome back"}),(0,t.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Sign in to access your account and listings."})]}),(0,t.jsxs)(d.Card,{className:"border-0 shadow-xl rounded-2xl overflow-hidden",children:[(0,t.jsxs)(d.CardHeader,{children:[(0,t.jsx)(d.CardTitle,{className:"text-lg",children:"Log in"}),(0,t.jsx)(d.CardDescription,{children:"Enter your email and password to continue."})]}),(0,t.jsxs)(d.CardContent,{children:[(0,t.jsxs)("form",{onSubmit:p,className:"space-y-5",children:[c&&(0,t.jsx)("p",{className:"text-sm text-destructive rounded-lg bg-destructive/10 p-3",children:c}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"email",children:"Email"}),(0,t.jsx)(n.Input,{id:"email",name:"email",type:"email",required:!0,className:"mt-2 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"password",children:"Password"}),(0,t.jsx)(n.Input,{id:"password",name:"password",type:"password",required:!0,className:"mt-2 rounded-lg"})]}),(0,t.jsx)(i.Button,{type:"submit",className:"w-full rounded-lg",disabled:u,children:u?"Signing in…":"Sign in"})]}),(0,t.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,t.jsx)(s.default,{href:`/register${o?`?redirect=${encodeURIComponent(o)}`:""}`,className:"text-primary font-medium hover:underline",children:"Register"})]})]})]})]})})}function c(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"page-content flex min-h-[70vh] items-center justify-center",children:(0,t.jsx)("div",{className:"animate-pulse text-muted-foreground",children:"Loading…"})}),children:(0,t.jsx)(o,{})})}e.s(["default",()=>c])}]);