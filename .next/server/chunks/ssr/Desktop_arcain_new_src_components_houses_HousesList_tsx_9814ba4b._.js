module.exports=[66080,a=>{"use strict";var b=a.i(95699),c=a.i(56533),d=a.i(71130),e=a.i(58994),f=a.i(81973),g=a.i(73176),h=a.i(49081),i=a.i(9925);let j=(0,h.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function k({className:a,variant:c,...d}){return(0,b.jsx)("div",{className:(0,i.cn)(j({variant:c}),a),...d})}var l=a.i(71167),m=a.i(86834);let n=(0,m.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),o=(0,m.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var p=a.i(20239);function q({cities:a}){let[h,i]=(0,c.useState)(""),[j,m]=(0,c.useState)("all"),[q,r]=(0,c.useState)("price_asc"),[s,t]=(0,c.useState)("all"),[u,v]=(0,c.useState)("all"),[w,x]=(0,c.useState)("all"),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)("all"),[E,F]=(0,c.useState)("all"),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)("all"),[Q,R]=(0,c.useState)(1),[S,T]=(0,c.useState)(null),[U,V]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let a=new URLSearchParams;j&&"all"!==j&&a.set("city",j),h&&a.set("search",h),a.set("sort",q),"true"===s&&a.set("roommateFriendly","true"),u&&"all"!==u&&a.set("type",u),w&&"all"!==w&&a.set("builtType",w),""!==y&&a.set("priceMin",y),""!==A&&a.set("priceMax",A),C&&"all"!==C&&a.set("region",C),"true"===E&&a.set("renovated","true"),"false"===E&&a.set("renovated","false"),""!==G&&a.set("areaMin",G),""!==I&&a.set("areaMax",I),""!==K&&a.set("floorMin",K),""!==M&&a.set("floorMax",M),O&&"all"!==O&&a.set("rooms",O),a.set("page",String(Q)),a.set("limit","9"),V(!0),fetch(`/api/houses?${a}`).then(a=>a.json()).then(a=>{T(a.items?{items:a.items,total:a.total??0,totalPages:a.totalPages??0,regions:a.regions??[]}:{items:[],total:0,totalPages:0,regions:[]})}).finally(()=>V(!1))},[j,h,q,s,u,w,y,A,C,E,G,I,K,M,O,Q]);let W=S?.regions??[];return(0,b.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),R(1),i(a.currentTarget.search?.value||"")},className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(n,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(f.Input,{name:"search",placeholder:"Search by title, description, region...",defaultValue:h,className:"pl-9"})]}),(0,b.jsxs)(e.Select,{value:j,onValueChange:a=>{m(a),R(1)},children:[(0,b.jsx)(e.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,b.jsx)(e.SelectValue,{placeholder:"All cities"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All cities"}),a.map(a=>(0,b.jsx)(e.SelectItem,{value:a.slug,children:a.name},a.id))]})]}),(0,b.jsxs)(e.Select,{value:q,onValueChange:r,children:[(0,b.jsx)(e.SelectTrigger,{className:"w-full sm:w-[160px]",children:(0,b.jsx)(e.SelectValue,{})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"price_asc",children:"Price: low to high"}),(0,b.jsx)(e.SelectItem,{value:"price_desc",children:"Price: high to low"}),(0,b.jsx)(e.SelectItem,{value:"rating_desc",children:"Rating: high first"}),(0,b.jsx)(e.SelectItem,{value:"rating_asc",children:"Rating: low first"})]})]}),(0,b.jsxs)(e.Select,{value:s,onValueChange:t,children:[(0,b.jsx)(e.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,b.jsx)(e.SelectValue,{placeholder:"Roommate"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(e.SelectItem,{value:"true",children:"Roommate friendly only"})]})]}),(0,b.jsx)(g.Button,{type:"submit",children:"Search"})]}),(0,b.jsxs)("div",{className:"rounded-xl border bg-card p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Filters"}),(0,b.jsx)(g.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{v("all"),x("all"),z(""),B(""),D("all"),F("all"),H(""),J(""),L(""),N(""),P("all"),R(1)},children:"Reset"})]}),(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Type"}),(0,b.jsxs)(e.Select,{value:u,onValueChange:a=>{v(a),R(1)},children:[(0,b.jsx)(e.SelectTrigger,{className:"w-full",children:(0,b.jsx)(e.SelectValue,{placeholder:"Type"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(e.SelectItem,{value:"flat",children:"Flat"}),(0,b.jsx)(e.SelectItem,{value:"house",children:"House"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Built"}),(0,b.jsxs)(e.Select,{value:w,onValueChange:a=>{x(a),R(1)},children:[(0,b.jsx)(e.SelectTrigger,{className:"w-full",children:(0,b.jsx)(e.SelectValue,{placeholder:"Built"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(e.SelectItem,{value:"new",children:"New built"}),(0,b.jsx)(e.SelectItem,{value:"old",children:"Old built"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Rooms"}),(0,b.jsxs)(e.Select,{value:O,onValueChange:a=>{P(a),R(1)},children:[(0,b.jsx)(e.SelectTrigger,{className:"w-full",children:(0,b.jsx)(e.SelectValue,{placeholder:"Rooms"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(e.SelectItem,{value:"1",children:"1"}),(0,b.jsx)(e.SelectItem,{value:"2",children:"2"}),(0,b.jsx)(e.SelectItem,{value:"3",children:"3"}),(0,b.jsx)(e.SelectItem,{value:"4",children:"4+"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Price min"}),(0,b.jsx)(f.Input,{type:"number",min:0,placeholder:"Min",value:y,onChange:a=>{z(a.target.value),R(1)}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Price max"}),(0,b.jsx)(f.Input,{type:"number",min:0,placeholder:"Max",value:A,onChange:a=>{B(a.target.value),R(1)}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Region"}),(0,b.jsxs)(e.Select,{value:C,onValueChange:a=>{D(a),R(1)},children:[(0,b.jsx)(e.SelectTrigger,{className:"w-full",children:(0,b.jsx)(e.SelectValue,{placeholder:"Region"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All"}),W.map(a=>(0,b.jsx)(e.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Renovated"}),(0,b.jsxs)(e.Select,{value:E,onValueChange:a=>{F(a),R(1)},children:[(0,b.jsx)(e.SelectTrigger,{className:"w-full",children:(0,b.jsx)(e.SelectValue,{placeholder:"Remont"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(e.SelectItem,{value:"true",children:"Yes"}),(0,b.jsx)(e.SelectItem,{value:"false",children:"No"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Area m² min"}),(0,b.jsx)(f.Input,{type:"number",min:0,placeholder:"Min",value:G,onChange:a=>{H(a.target.value),R(1)}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Area m² max"}),(0,b.jsx)(f.Input,{type:"number",min:0,placeholder:"Max",value:I,onChange:a=>{J(a.target.value),R(1)}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Floor min"}),(0,b.jsx)(f.Input,{type:"number",min:0,placeholder:"Min",value:K,onChange:a=>{L(a.target.value),R(1)}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Floor max"}),(0,b.jsx)(f.Input,{type:"number",min:0,placeholder:"Max",value:M,onChange:a=>{N(a.target.value),R(1)}})]})]})]}),U?(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(a=>(0,b.jsxs)(l.Card,{className:"overflow-hidden",children:[(0,b.jsx)("div",{className:"aspect-[4/3] bg-muted animate-pulse"}),(0,b.jsxs)(l.CardContent,{className:"p-4",children:[(0,b.jsx)("div",{className:"h-5 w-3/4 rounded bg-muted animate-pulse"}),(0,b.jsx)("div",{className:"mt-2 h-4 w-1/2 rounded bg-muted animate-pulse"})]})]},a))}):S&&S.items.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:S.items.map(a=>(0,b.jsx)(d.default,{href:`/houses/${a.id}`,children:(0,b.jsxs)(l.Card,{className:"group overflow-hidden transition-shadow hover:shadow-md",children:[(0,b.jsxs)("div",{className:"aspect-[4/3] relative overflow-hidden bg-muted",children:[(0,b.jsx)("img",{src:a.images[0]||"https://picsum.photos/800/600",alt:a.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}),(0,b.jsx)("div",{className:"absolute right-2 top-2",children:(0,b.jsxs)(k,{variant:"secondary",children:[a.rating," ★"]})})]}),(0,b.jsxs)(l.CardContent,{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-semibold line-clamp-1",children:a.title}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:[a.address?`${a.address}, `:"",a.city]}),(0,b.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("span",{className:"font-semibold text-primary",children:["£",a.price,"/mo"]}),a.roommateFriendly&&(0,b.jsx)(k,{variant:"outline",className:"text-xs",children:"Roommate OK"}),a.renovated&&(0,b.jsx)(k,{variant:"secondary",className:"text-xs",children:"Renovated"})]}),(0,b.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:"house"===a.type?"House":"Flat"}),(0,b.jsx)("span",{children:"·"}),(0,b.jsxs)("span",{children:[a.rooms," rooms"]}),null!=a.area&&a.area>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"·"}),(0,b.jsxs)("span",{children:[a.area," m²"]})]}),null!=a.floor&&a.floor>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"·"}),(0,b.jsxs)("span",{children:["Floor ",a.floor]})]})]})]})]})},a.id))}),S.totalPages>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-4",children:[(0,b.jsx)(g.Button,{variant:"outline",size:"icon",onClick:()=>R(a=>Math.max(1,a-1)),disabled:Q<=1,children:(0,b.jsx)(o,{className:"h-4 w-4"})}),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",Q," of ",S.totalPages]}),(0,b.jsx)(g.Button,{variant:"outline",size:"icon",onClick:()=>R(a=>Math.min(S.totalPages,a+1)),disabled:Q>=S.totalPages,children:(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]})]}):(0,b.jsx)("p",{className:"py-12 text-center text-muted-foreground",children:"No houses match your filters."})]})}a.s(["HousesList",()=>q],66080)}];

//# sourceMappingURL=Desktop_arcain_new_src_components_houses_HousesList_tsx_9814ba4b._.js.map